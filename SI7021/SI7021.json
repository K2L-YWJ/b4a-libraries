{
    "category": "SI7021",
    "name": "SI7021",
    "icon": "far fa-temperature-hot",
    "introduction": "SI7021温湿度传感器驱动库",
    "colour": "#FF0000",
    "version": "0.0.1",
    "author": "K2L",
    "compatibility": {
        "core": [
            "arduino:avr",
            "esp32:esp32",
            "esp8266:esp8266"
        ],
        "voltage": []
    },
    "blocks": [
        {
            "inputsInline": false,
            "type": "SI7021_begin",
            "colour": "#ffca28",
            "message0": "初始化SI7021%1",                      
            "args0": [
                {
                    "type": "field_variable",
                    "name": "SI7021_name",
                    "variable": "si7021",
                    "variableTypes": ["si70211"],
                    "defaultType": "si70211"
                }
            ],                              
            "toolbox": {
            "show": true
            },
            "b4a": {
              "library":"#include \"Adafruit_Si7021.h\"",
              "object":"bool enableHeater = false;\n \n Adafruit_Si7021 ${SI7021_name} = Adafruit_Si7021();",
              "setup":"${SI7021_name}.begin();",
              "code":"if ((millis()/1000)%30 == 0) {\n    enableHeater = !enableHeater;\n    sensor.heater(enableHeater);\n    //Serial.print(\"Heater Enabled State: \");\n    if (sensor.isHeaterEnabled())\n      //Serial.println(\"ENABLED\");\n    else\n      //Serial.println(\"DISABLED\");      \n  }"
            },
            "previousStatement": null,
            "nextStatement": null
        },
        {
            "inputsInline": false,
            "type": "SI7021_DATA_HUMI",
            "colour": "#ffca28",
            "message0": "获取SI7021%1%2",                      
            "args0": [
                {
                    "type": "field_variable",
                    "name": "SI7021_name",
                    "variable": "si7021",
                    "variableTypes": ["si70211"],
                    "defaultType": "si70211"
                },
                {
                    "type": "field_dropdown",
                    "name":"si7021_data_mode",
                    "options":[["湿度","readHumidity"],["温度","readTemperature"]]
                }
            ],                              
            "toolbox": {
            "show": true
            },
            "b4a": {
              "code":"${SI7021_name}.${si7021_data_mode}()"
            },
            "output": "Any"
            
        }
    ]
}